---
layout: post
title: "Terraform: New way of farming in cloud!"
date: 2017-02-25
---

### Terraform installation

Terraform is written in go lang. Each OS will have its executable named "terraform" which can be downloaded from https://www.terraform.io/. Just put the binary in $PATH variable and you are all set!


### HCL : HashiCorp Configuration Language
- Terraform is written in HCL which is a declarative languauge.
- HCL files are saved with .tf file extension.

### Providers:
- Terraform can provision instances/resources accross variety of cloud providers/platform such as google, AWS, VMWARE etc.
- These platforms are called as providers
- The most important platform of all is *aws*.

### Resource:
- Each provider has different resources it provides. Example, 'aws' provider has resources like security_group, instance.
- Resources creation has below syntax:

<pre>
resource "PROVIDER_TYPE" "NAME" {
[VARIOUS CONFIGS]
 }

Example:
resource "aws_instance" "vinwebsrv001" {
	ami = "ami-1234566"
	instance_type = "t2.micro"
}
</pre> 

### Terraform plan:
- Plan command will show you the changes terraform is going to do.
- (+) shows resources which it is going to add
- (-) shows resources it is going to delete
- (~) shows resources it is going to change


### Interpolation:
- Syntax for interpolation : "${things-to-interpolate}"
- Interpolation can be used to lookup an attribute of another resource

### Variables:
## Input Varialbes:
- Variables in terraform can be declared as below:
<pre>
	variable "NAME"
 	{
 		description = "Something that describes the variable"
 		type = "string|list|map"
 		default = "Put the default value for the given type of varialbe" 
	}

 </pre>
- Examples of variables:
LIST:
<pre>
	variable "List_variable"
 	{
 		description = "Something that describes the variable"
 		type = "list"
 		default = [1,2,3,4]
	}

 </pre>

MAP:
<pre>
	variable "map_variable"
 	{
 		description = "Something that describes the variable"
 		type = "map"
 		default = {
 			key1 = "value1"
 			key2 = "value2"
 		}
	}
 </pre>

- If no default is set for variable, you will be asked to set it during terraform plan.
- You can set the variable value on command line as: terraform plan -var variable_name="value"
- You can interpolate variable using the interpolation syntax: "${var.VARIABLE_NAME}"

## Output Variable:
- Output varialbes can be used to get values on the fly from any of resources.
- Example of Output variable:
<pre>
output public_ip {
	value = "${aws_instance.example.public_ip}"

}
</pre>
- You can see the output of variable using terraform output output_variable_name

## Data Source:
- A data source represents a piece of read-only information that is fetched from the provider every time you run Terraform.
- It uses the providers API (AWS API) to query the data
- Syntax is : "${data.TYPE.NAME.ATTRIBUTE}"

## Terraform State:

