---
layout: post
title: "Terraform: New way of farming in cloud!"
date: 2017-02-25
---

### Terraform installation

Terraform is written in go lang. Each OS will have its executable named "terraform" which can be downloaded from https://www.terraform.io/. Just put the binary in $PATH variable and you are all set!


### HCL : HashiCorp Configuration Language
- Terraform is written in HCL which is a declarative languauge.
- HCL files are saved with .tf file extension.

### Providers:
- Terraform can provision instances/resources accross variety of cloud providers/platform such as google, AWS, VMWARE etc.
- These platforms are called as providers
- The most important platform of all is *aws*.

### Resource:
- Each provider has different resources it provides. Example, 'aws' provider has resources like security_group, instance.
- Resources creation has below syntax:
<pre>resource "PROVIDER_TYPE" "NAME" {
[VARIOUS CONFIGS]
 }

Example:
resource "aws_instance" "vinwebsrv001" {
	ami = "ami-1234566"
	instance_type = "t2.micro"
}
</pre> 

### Terraform plan:
- Plan command will show you the changes terraform is going to do.
- (+) shows resources which it is going to add
- (-) shows resources it is going to delete
- (~) shows resources it is going to change


### Interpolation:
- Syntax for interpolation : "${things-to-interpolate}"
- Interpolation can be used to lookup an attribute of another resource




# Terraform resources:

### aws_instance:
<pre>
resource aws_instance "vintest" {
	ami = "ami-12345"
	instance_type = "t2.micro"
	user_data = <<-EOF
				#!/bin/bash
				echo "Put your script you want to be run during cloud init"
				EOF
	tags {
		name = "vintest"
		type = "webserver"
	}
}
</pre>

<pre>
resource aws_security_group "vin_webserver_security_group" {
	name = "vin_webserver_security_group"
	ingress {
		from_port = 9031
		to_port = 9031
		protocol = "tcp"
		cidr_blocks = ["0.0.0.0/0"]
	}
	tags {
		name = "vin_webserver_security_group"
		type = "security_group"
	}	
}
</pre>>